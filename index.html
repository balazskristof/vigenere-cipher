<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vigenère Cipher</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    <div class="container mt-3">
        <h1>Vigenère Cipher</h1>
        <form>
            <div class="form-group">
                <div class="input-group mb-3">
                    <span class="input-group-text">Input</span>
                    <input type="text" class="form-control" id="input">
                    <span class="input-group-text">Key</span>
                    <input type="text" class="form-control" id="key">
                    <button class="btn btn-outline-secondary" type="button" id="encrypt">Encrypt</button>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group mb-3">
                    <span class="input-group-text">Encrypted output</span>
                    <input type="text" class="form-control" id="encrypt_output" disabled>
                    <button class="btn btn-outline-secondary" type="button" id="decrypt" disabled>Decrypt</button>
                    <span class="input-group-text">Decrypted output</span>
                    <input type="text" class="form-control" id="decrypt_output" disabled>
                    <button class="btn btn-outline-secondary" type="button" id="compare" disabled>Compare</button>
                </div>
            </div>
        </form>
    </div>
<script src="vigenere.js"></script>
<script>
let input = document.querySelector('#input');
let key = document.querySelector('#key');
let encrypt = document.querySelector('#encrypt');
let decrypt = document.querySelector('#decrypt');
let encrypt_output = document.querySelector('#encrypt_output');
let decrypt_output = document.querySelector('#decrypt_output');
let compare = document.querySelector('#compare');
encrypt.addEventListener('click', () => {
    encrypt_output.value = vigenere_encrypt(input.value, key.value.toUpperCase());
    decrypt.disabled = false;
});
decrypt.addEventListener('click', () => {
    decrypt_output.value = vigenere_decrypt(encrypt_output.value, key.value.toUpperCase());
    compare.disabled = false;
});
compare.addEventListener('click', () => {
    compare.classList.remove('btn-outline-secondary');
    if (vigenere_encrypt(decrypt_output.value, key.value.toUpperCase()) == encrypt_output.value) {
        compare.classList.remove('btn-danger');
        compare.classList.add('btn-success');
    } else {
        compare.classList.remove('btn-success');
        compare.classList.add('btn-danger');
    }
});
</script>
</body>
</html>